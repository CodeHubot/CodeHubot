# æ–‡ä»¶ç»„ç»‡è§„èŒƒ

> æœ¬æ–‡æ¡£å®šä¹‰äº† CodeHubot é¡¹ç›®çš„æ–‡ä»¶å’Œç›®å½•ç»„ç»‡è§„èŒƒï¼Œç¡®ä¿é¡¹ç›®ç»“æ„æ¸…æ™°ã€æ˜“äºç»´æŠ¤ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ•´ä½“ç»“æ„](#é¡¹ç›®æ•´ä½“ç»“æ„)
- [åç«¯ç›®å½•ç»“æ„](#åç«¯ç›®å½•ç»“æ„)
- [å‰ç«¯ç›®å½•ç»“æ„](#å‰ç«¯ç›®å½•ç»“æ„)
- [æ¨¡å—åˆ’åˆ†åŸåˆ™](#æ¨¡å—åˆ’åˆ†åŸåˆ™)
- [æ–‡ä»¶å‘½åè§„èŒƒ](#æ–‡ä»¶å‘½åè§„èŒƒ)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸ—ï¸ é¡¹ç›®æ•´ä½“ç»“æ„

```
CodeHubot/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/                    # åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ main.py                 # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ frontend/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ package.json            # Node ä¾èµ–
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ service/                    # ç‹¬ç«‹æœåŠ¡
â”‚   â”œâ”€â”€ celery-service/         # Celery å¼‚æ­¥ä»»åŠ¡
â”‚   â”œâ”€â”€ mqtt-service/           # MQTT æœåŠ¡
â”‚   â”œâ”€â”€ plugin-service/         # æ’ä»¶æœåŠ¡
â”‚   â””â”€â”€ config-service/         # é…ç½®æœåŠ¡
â”œâ”€â”€ SQL/                        # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ init_database.sql       # åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ update/                 # æ›´æ–°è„šæœ¬
â”‚       â”œâ”€â”€ 01_xxx.sql
â”‚       â”œâ”€â”€ 02_xxx.sql
â”‚       â””â”€â”€ ...
â”œâ”€â”€ docker/                     # Docker é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ .env.example
â”œâ”€â”€ å¼€å‘è§„èŒƒ/                   # å¼€å‘è§„èŒƒæ–‡æ¡£
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ 01_APIå¼€å‘è§„èŒƒ.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ QUICK_START.md             # å¿«é€Ÿå¼€å§‹
â””â”€â”€ LICENSE                     # å¼€æºåè®®
```

---

## ğŸ åç«¯ç›®å½•ç»“æ„

### 1. æ•´ä½“ç»“æ„

```
backend/
â”œâ”€â”€ app/                        # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api/                    # API è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py             # è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ devices.py          # è®¾å¤‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agents.py
â”‚   â”‚   â”‚   â”œâ”€â”€ knowledge_bases.py
â”‚   â”‚   â”‚   â””â”€â”€ workflows.py
â”‚   â”‚   â””â”€â”€ pbl/                # PBL æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ admin_courses.py
â”‚   â”‚       â”œâ”€â”€ student_courses.py
â”‚   â”‚       â””â”€â”€ teacher_courses.py
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py           # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ database.py         # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ deps.py             # ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ response.py         # ç»Ÿä¸€å“åº”
â”‚   â”‚   â””â”€â”€ security.py         # å®‰å…¨ç›¸å…³
â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹(ORM)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ device.py
â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â””â”€â”€ pbl.py
â”‚   â”œâ”€â”€ schemas/                # æ•°æ®éªŒè¯(Pydantic)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ device.py
â”‚   â”‚   â””â”€â”€ pbl.py
â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ email.py
â”‚   â”‚   â”œâ”€â”€ embedding_service.py
â”‚   â”‚   â””â”€â”€ pbl/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ template_service.py
â”‚   â”‚       â””â”€â”€ video_progress_service.py
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ device_helper.py
â”‚   â”‚   â”œâ”€â”€ timezone.py
â”‚   â”‚   â””â”€â”€ document_parser.py
â”‚   â””â”€â”€ tasks/                  # å¼‚æ­¥ä»»åŠ¡
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ embedding_tasks.py
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py             # pytest é…ç½®
â”‚   â”œâ”€â”€ test_api/               # API æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_courses.py
â”‚   â”‚   â””â”€â”€ test_users.py
â”‚   â”œâ”€â”€ test_services/          # æœåŠ¡æµ‹è¯•
â”‚   â””â”€â”€ test_models/            # æ¨¡å‹æµ‹è¯•
â”œâ”€â”€ scripts/                    # è¾…åŠ©è„šæœ¬
â”‚   â”œâ”€â”€ check_token_config.py
â”‚   â””â”€â”€ test_embedding_v4.py
â”œâ”€â”€ main.py                     # åº”ç”¨å…¥å£
â”œâ”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ Dockerfile                  # Docker é…ç½®
â””â”€â”€ README.md                   # è¯´æ˜æ–‡æ¡£
```

### 2. API å±‚ç»„ç»‡åŸåˆ™

```python
# app/api/__init__.py
"""
API è·¯ç”±æ€»å…¥å£
æŒ‰ä¸šåŠ¡æ¨¡å—ç»„ç»‡è·¯ç”±
"""
from fastapi import APIRouter
from .auth import router as auth_router
from .devices import router as devices_router
from .ai import agents, workflows, knowledge_bases
from .pbl import admin_courses, student_courses

# åˆ›å»ºä¸»è·¯ç”±
api_router = APIRouter(prefix="/api")

# æ³¨å†Œè·¯ç”±
api_router.include_router(auth_router, prefix="/auth", tags=["è®¤è¯"])
api_router.include_router(devices_router, prefix="/devices", tags=["è®¾å¤‡"])

# AI æ¨¡å—è·¯ç”±
api_router.include_router(agents.router, prefix="/ai/agents", tags=["AI-æ™ºèƒ½ä½“"])
api_router.include_router(workflows.router, prefix="/ai/workflows", tags=["AI-å·¥ä½œæµ"])

# PBL æ¨¡å—è·¯ç”±
api_router.include_router(admin_courses.router, prefix="/admin/courses", tags=["PBL-ç®¡ç†å‘˜-è¯¾ç¨‹"])
api_router.include_router(student_courses.router, prefix="/student/courses", tags=["PBL-å­¦ç”Ÿ-è¯¾ç¨‹"])
```

### 3. æ¨¡å‹å±‚ç»„ç»‡åŸåˆ™

```python
# app/models/__init__.py
"""
æ•°æ®æ¨¡å‹æ€»å…¥å£
å¯¼å‡ºæ‰€æœ‰æ¨¡å‹ä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨
"""
from .user import User, Admin
from .device import Device, DeviceGroup
from .agent import Agent, Workflow
from .pbl import (
    PBLCourse,
    PBLCourseTemplate,
    PBLStudent,
    PBLUnit,
    PBLTask
)

__all__ = [
    "User", "Admin",
    "Device", "DeviceGroup",
    "Agent", "Workflow",
    "PBLCourse", "PBLCourseTemplate", "PBLStudent", "PBLUnit", "PBLTask"
]
```

### 4. å•ä¸ªæ¨¡å—æ–‡ä»¶ç¤ºä¾‹

```python
# app/api/pbl/admin_courses.py
"""
PBL ç®¡ç†å‘˜ - è¯¾ç¨‹ç®¡ç† API

æä¾›ç®¡ç†å‘˜çš„è¯¾ç¨‹ç®¡ç†åŠŸèƒ½:
- è¯¾ç¨‹åˆ—è¡¨æŸ¥è¯¢
- è¯¾ç¨‹åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- è¯¾ç¨‹å‘å¸ƒç®¡ç†
"""
from fastapi import APIRouter, Depends, HTTPException, Query
from sqlalchemy.orm import Session
from typing import Optional

from ...core.deps import get_db, get_current_admin
from ...core.response import success_response
from ...models.pbl import PBLCourse
from ...schemas.pbl import CourseCreate, CourseUpdate

# åˆ›å»ºè·¯ç”±
router = APIRouter()


# API ç«¯ç‚¹
@router.get("")
def list_courses(
    page: int = Query(1, ge=1),
    page_size: int = Query(20, ge=1, le=100),
    db: Session = Depends(get_db),
    current_admin = Depends(get_current_admin)
):
    """è·å–è¯¾ç¨‹åˆ—è¡¨"""
    # å®ç°é€»è¾‘
    pass


@router.post("")
def create_course(
    course: CourseCreate,
    db: Session = Depends(get_db),
    current_admin = Depends(get_current_admin)
):
    """åˆ›å»ºè¯¾ç¨‹"""
    # å®ç°é€»è¾‘
    pass
```

---

## ğŸ¨ å‰ç«¯ç›®å½•ç»“æ„

### 1. æ•´ä½“ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”œâ”€â”€ components/             # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ device/
â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceBasicInfo.vue
â”‚   â”‚   â”‚   â””â”€â”€ DeviceLogs.vue
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ PageHeader.vue
â”‚   â”‚       â””â”€â”€ LoadingSpinner.vue
â”‚   â”œâ”€â”€ layouts/                # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DeviceLayout.vue
â”‚   â”‚   â”œâ”€â”€ PBLAdminLayout.vue
â”‚   â”‚   â”œâ”€â”€ PBLTeacherLayout.vue
â”‚   â”‚   â””â”€â”€ PBLStudentLayout.vue
â”‚   â”œâ”€â”€ modules/                # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ device/             # è®¾å¤‡æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ api/            # API è°ƒç”¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agent.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ workflow.js
â”‚   â”‚   â”‚   â”œâ”€â”€ components/     # æ¨¡å—ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RealTimeMonitor.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Devices.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceDetail.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Agents.vue
â”‚   â”‚   â”‚   â””â”€â”€ utils/          # æ¨¡å—å·¥å…·
â”‚   â”‚   â”‚       â””â”€â”€ format.js
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â””â”€â”€ pbl/                # PBL æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ admin/          # ç®¡ç†å‘˜ç«¯
â”‚   â”‚       â”‚   â”œâ”€â”€ api/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ admin.js
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ courses.js
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ classes.js
â”‚   â”‚       â”‚   â””â”€â”€ views/
â”‚   â”‚       â”‚       â”œâ”€â”€ AdminDashboard.vue
â”‚   â”‚       â”‚       â”œâ”€â”€ AdminCourses.vue
â”‚   â”‚       â”‚       â””â”€â”€ AdminClasses.vue
â”‚   â”‚       â”œâ”€â”€ teacher/        # æ•™å¸ˆç«¯
â”‚   â”‚       â”‚   â””â”€â”€ views/
â”‚   â”‚       â”‚       â”œâ”€â”€ TeacherDashboard.vue
â”‚   â”‚       â”‚       â””â”€â”€ TeacherCourses.vue
â”‚   â”‚       â””â”€â”€ student/        # å­¦ç”Ÿç«¯
â”‚   â”‚           â”œâ”€â”€ api/
â”‚   â”‚           â”œâ”€â”€ views/
â”‚   â”‚           â””â”€â”€ components/
â”‚   â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.js            # ä¸»è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ device.js           # è®¾å¤‡æ¨¡å—è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ ai.js               # AI æ¨¡å—è·¯ç”±
â”‚   â”‚   â””â”€â”€ pbl.js              # PBL æ¨¡å—è·¯ç”±
â”‚   â”œâ”€â”€ stores/                 # çŠ¶æ€ç®¡ç†(Pinia)
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ user.js
â”‚   â”‚   â””â”€â”€ device.js
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.js          # HTTP è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.js             # è®¤è¯å·¥å…·
â”‚   â”‚   â”œâ”€â”€ logger.js           # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ format.js           # æ ¼å¼åŒ–å·¥å…·
â”‚   â””â”€â”€ views/                  # å…¨å±€é¡µé¢
â”‚       â”œâ”€â”€ Login.vue
â”‚       â”œâ”€â”€ Portal.vue
â”‚       â””â”€â”€ NotFound.vue
â”œâ”€â”€ public/                     # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ e2e/
â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.js              # Vite é…ç½®
â”œâ”€â”€ .env.development            # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production             # ç”Ÿäº§ç¯å¢ƒå˜é‡
â””â”€â”€ README.md
```

### 2. æ¨¡å—å†…éƒ¨ç»„ç»‡

```
modules/pbl/admin/              # PBL ç®¡ç†å‘˜æ¨¡å—
â”œâ”€â”€ api/                        # API å±‚
â”‚   â”œâ”€â”€ admin.js                # ç®¡ç†å‘˜ API
â”‚   â”œâ”€â”€ courses.js              # è¯¾ç¨‹ API
â”‚   â”œâ”€â”€ classes.js              # ç­çº§ API
â”‚   â”œâ”€â”€ club.js                 # ç¤¾å›¢ API
â”‚   â””â”€â”€ request.js              # æ¨¡å—ä¸“ç”¨è¯·æ±‚å·¥å…·(å¯é€‰)
â”œâ”€â”€ views/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ AdminDashboard.vue      # ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ AdminCourses.vue        # è¯¾ç¨‹åˆ—è¡¨
â”‚   â”œâ”€â”€ CourseDetail.vue        # è¯¾ç¨‹è¯¦æƒ…
â”‚   â”œâ”€â”€ AdminClasses.vue        # ç­çº§ç®¡ç†
â”‚   â””â”€â”€ ClassDetail.vue         # ç­çº§è¯¦æƒ…
â”œâ”€â”€ components/                 # ä¸šåŠ¡ç»„ä»¶(å¯é€‰)
â”‚   â”œâ”€â”€ CourseCard.vue
â”‚   â””â”€â”€ ClassTable.vue
â””â”€â”€ utils/                      # å·¥å…·å‡½æ•°(å¯é€‰)
    â””â”€â”€ courseHelper.js
```

### 3. API æ–‡ä»¶ç»„ç»‡

```javascript
// modules/pbl/admin/api/courses.js
/**
 * è¯¾ç¨‹ç®¡ç† API
 */
import request from '@/utils/request'

// ===== è¯¾ç¨‹åˆ—è¡¨ =====

/**
 * è·å–è¯¾ç¨‹åˆ—è¡¨
 */
export function getCourses(params) {
  return request({
    url: '/api/admin/courses',
    method: 'get',
    params
  })
}

// ===== è¯¾ç¨‹è¯¦æƒ… =====

/**
 * è·å–è¯¾ç¨‹è¯¦æƒ…
 */
export function getCourseDetail(courseUuid) {
  return request({
    url: `/api/admin/courses/${courseUuid}`,
    method: 'get'
  })
}

// ===== è¯¾ç¨‹æ“ä½œ =====

/**
 * åˆ›å»ºè¯¾ç¨‹
 */
export function createCourse(data) {
  return request({
    url: '/api/admin/courses',
    method: 'post',
    data
  })
}

/**
 * æ›´æ–°è¯¾ç¨‹
 */
export function updateCourse(courseUuid, data) {
  return request({
    url: `/api/admin/courses/${courseUuid}`,
    method: 'put',
    data
  })
}

/**
 * åˆ é™¤è¯¾ç¨‹
 */
export function deleteCourse(courseUuid) {
  return request({
    url: `/api/admin/courses/${courseUuid}`,
    method: 'delete'
  })
}
```

### 4. è·¯ç”±æ–‡ä»¶ç»„ç»‡

```javascript
// router/pbl.js
/**
 * PBL æ¨¡å—è·¯ç”±
 */

// ç®¡ç†å‘˜è·¯ç”±
const adminRoutes = [
  {
    path: '/pbl/admin',
    component: () => import('@/layouts/PBLAdminLayout.vue'),
    meta: { requiresAuth: true, role: 'admin' },
    children: [
      {
        path: 'dashboard',
        name: 'PBLAdminDashboard',
        component: () => import('@/modules/pbl/admin/views/AdminDashboard.vue')
      },
      {
        path: 'courses',
        name: 'PBLAdminCourses',
        component: () => import('@/modules/pbl/admin/views/AdminCourses.vue')
      },
      {
        path: 'courses/:uuid',
        name: 'PBLCourseDetail',
        component: () => import('@/modules/pbl/admin/views/CourseDetail.vue')
      }
    ]
  }
]

// æ•™å¸ˆè·¯ç”±
const teacherRoutes = [
  {
    path: '/pbl/teacher',
    component: () => import('@/layouts/PBLTeacherLayout.vue'),
    meta: { requiresAuth: true, role: 'teacher' },
    children: [
      // ...
    ]
  }
]

export default [...adminRoutes, ...teacherRoutes]
```

---

## ğŸ“ æ¨¡å—åˆ’åˆ†åŸåˆ™

### 1. å•ä¸€èŒè´£åŸåˆ™

```
æ¯ä¸ªæ–‡ä»¶/æ¨¡å—åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½:

âœ… å¥½çš„åˆ’åˆ†:
- courses.py: åªå¤„ç†è¯¾ç¨‹ç›¸å…³ API
- users.py: åªå¤„ç†ç”¨æˆ·ç›¸å…³ API
- device_helper.py: åªæä¾›è®¾å¤‡ç›¸å…³å·¥å…·å‡½æ•°

âŒ ä¸å¥½çš„åˆ’åˆ†:
- api.py: åŒ…å«æ‰€æœ‰ API (å¤ªå¤§,éš¾ä»¥ç»´æŠ¤)
- utils.py: åŒ…å«å„ç§ä¸ç›¸å…³çš„å·¥å…·å‡½æ•°
```

### 2. æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†

```
æŒ‰ä¸šåŠ¡åŠŸèƒ½ç»„ç»‡ä»£ç ,è€Œä¸æ˜¯æŒ‰æŠ€æœ¯å±‚æ¬¡:

âœ… å¥½çš„ç»„ç»‡:
modules/pbl/
â”œâ”€â”€ admin/              # ç®¡ç†å‘˜åŠŸèƒ½
â”œâ”€â”€ teacher/            # æ•™å¸ˆåŠŸèƒ½
â””â”€â”€ student/            # å­¦ç”ŸåŠŸèƒ½

âŒ ä¸å¥½çš„ç»„ç»‡:
components/
â”œâ”€â”€ all_components/     # æ‰€æœ‰ç»„ä»¶æ··åœ¨ä¸€èµ·
â””â”€â”€ ...
```

### 3. ç›¸å…³æ–‡ä»¶å°±è¿‘æ”¾ç½®

```
ç›¸å…³çš„æ–‡ä»¶åº”è¯¥æ”¾åœ¨ä¸€èµ·:

âœ… å¥½çš„ç»„ç»‡:
pbl/admin/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ courses.js
â””â”€â”€ views/
    â”œâ”€â”€ AdminCourses.vue    # ä½¿ç”¨ courses.js
    â””â”€â”€ CourseDetail.vue    # ä½¿ç”¨ courses.js

âŒ ä¸å¥½çš„ç»„ç»‡:
api/
â””â”€â”€ courses.js
views/
â””â”€â”€ pbl/
    â””â”€â”€ AdminCourses.vue    # è·ç¦» API æ–‡ä»¶å¤ªè¿œ
```

---

## ğŸ“ æ–‡ä»¶å‘½åè§„èŒƒ

### 1. Python æ–‡ä»¶å‘½å

```python
# âœ… æ¨è: å°å†™ä¸‹åˆ’çº¿
device_helper.py
course_model.py
admin_courses.py
video_progress_service.py

# âŒ é¿å…: é©¼å³°æˆ–å…¶ä»–
DeviceHelper.py       # ä¸æ¨è
courseModel.py        # ä¸æ¨è
admin-courses.py      # ä¸æ¨è(ä½¿ç”¨ä¸‹åˆ’çº¿è€Œä¸æ˜¯è¿å­—ç¬¦)
```

### 2. JavaScript/Vue æ–‡ä»¶å‘½å

```javascript
// âœ… Vue ç»„ä»¶: PascalCase
CourseList.vue
CourseDetail.vue
AdminDashboard.vue

// âœ… JS æ–‡ä»¶: camelCase
request.js
courseHelper.js
auth.js

// âœ… API æ–‡ä»¶: camelCase æˆ– kebab-case
courses.js
classes.js
club.js

// âŒ é¿å…
courselist.vue        # ä¸æ¨è
course_detail.vue     # ä¸æ¨è
Admin-Dashboard.vue   # ä¸æ¨è
```

### 3. ç›®å½•å‘½å

```bash
# âœ… æ¨è: å°å†™,è¿å­—ç¬¦åˆ†éš”(æˆ–ä¸‹åˆ’çº¿)
backend/
frontend/
device-service/
pbl-module/

# âŒ é¿å…
Backend/              # å¤§å†™
front_End/            # æ··åˆ
deviceService/        # é©¼å³°
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ–‡ä»¶å¤§å°æ§åˆ¶

```
# å»ºè®®:
- å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 500 è¡Œ
- Vue ç»„ä»¶ä¸è¶…è¿‡ 300 è¡Œ
- API æ–‡ä»¶æŒ‰èµ„æºåˆ†ç»„,æ¯ä¸ªæ–‡ä»¶ 10-20 ä¸ªæ¥å£

# å¦‚æœæ–‡ä»¶è¿‡å¤§,è€ƒè™‘æ‹†åˆ†:
- æŒ‰åŠŸèƒ½æ‹†åˆ†å¤šä¸ªæ–‡ä»¶
- æå–å…¬å…±é€»è¾‘åˆ°ç‹¬ç«‹æ¨¡å—
- ä½¿ç”¨å­æ¨¡å—ç»„ç»‡
```

### 2. é¿å…å¾ªç¯ä¾èµ–

```python
# âŒ é”™è¯¯: å¾ªç¯ä¾èµ–
# file_a.py
from file_b import func_b

def func_a():
    return func_b()

# file_b.py
from file_a import func_a  # å¾ªç¯ä¾èµ–!

def func_b():
    return func_a()

# âœ… æ­£ç¡®: æå–åˆ°ç¬¬ä¸‰ä¸ªæ–‡ä»¶
# common.py
def shared_logic():
    pass

# file_a.py
from common import shared_logic

# file_b.py
from common import shared_logic
```

### 3. åˆç†ä½¿ç”¨ `__init__.py`

```python
# app/models/__init__.py
"""
ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰æ¨¡å‹
ä¾¿äºå…¶ä»–æ¨¡å—å¯¼å…¥
"""
from .user import User, Admin
from .device import Device
from .pbl import PBLCourse, PBLStudent

__all__ = ["User", "Admin", "Device", "PBLCourse", "PBLStudent"]

# å…¶ä»–æ–‡ä»¶å¯ä»¥è¿™æ ·å¯¼å…¥:
from app.models import User, Device, PBLCourse
```

### 4. é…ç½®æ–‡ä»¶æ”¾ç½®

```
# ç¯å¢ƒé…ç½®æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
backend/
â”œâ”€â”€ .env
â”œâ”€â”€ .env.example
â””â”€â”€ .env.production

frontend/
â”œâ”€â”€ .env.development
â”œâ”€â”€ .env.production
â””â”€â”€ .env.example

# ä¸è¦æ”¾åœ¨ src æˆ– app ç›®å½•ä¸­
```

---

## ğŸš« é¿å…çš„åšæ³•

### 1. é¿å…æ·±å±‚åµŒå¥—

```
# âŒ ä¸å¥½: å±‚çº§å¤ªæ·±
src/modules/pbl/admin/views/courses/list/components/table/...

# âœ… å¥½: æ‰å¹³åŒ–
src/modules/pbl/admin/views/CourseList.vue
src/modules/pbl/admin/components/CourseTable.vue
```

### 2. é¿å…æ–‡ä»¶æ•£ä¹±

```
# âŒ ä¸å¥½: æ–‡ä»¶æ··ä¹±
src/
â”œâ”€â”€ component1.vue
â”œâ”€â”€ component2.vue
â”œâ”€â”€ api1.js
â”œâ”€â”€ util1.js
â””â”€â”€ ...

# âœ… å¥½: åˆ†ç±»ç»„ç»‡
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ component1.vue
â”‚   â””â”€â”€ component2.vue
â”œâ”€â”€ api/
â”‚   â””â”€â”€ api1.js
â””â”€â”€ utils/
    â””â”€â”€ util1.js
```

### 3. é¿å…é‡å¤ä»£ç 

```
# âŒ ä¸å¥½: é‡å¤çš„å·¥å…·å‡½æ•°
modules/pbl/utils/format.js
modules/device/utils/format.js  # é‡å¤

# âœ… å¥½: æå–åˆ°å…¬å…±å·¥å…·
utils/format.js  # å…¬å…±å·¥å…·
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Vue.js é¡¹ç›®ç»“æ„æœ€ä½³å®è·µ](https://vuejs.org/guide/scaling-up/sfc.html)
- [FastAPI é¡¹ç›®ç»“æ„](https://fastapi.tiangolo.com/tutorial/bigger-applications/)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)

---

**è®°ä½**: è‰¯å¥½çš„æ–‡ä»¶ç»„ç»‡æ˜¯é¡¹ç›®å¯ç»´æŠ¤æ€§çš„åŸºç¡€ï¼ŒèŠ±æ—¶é—´æ•´ç†é¡¹ç›®ç»“æ„æ˜¯å€¼å¾—çš„ï¼
