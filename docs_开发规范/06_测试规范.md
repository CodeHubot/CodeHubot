# æµ‹è¯•è§„èŒƒ

> æœ¬æ–‡æ¡£å®šä¹‰äº† CodeHubot é¡¹ç›®çš„æµ‹è¯•è§„èŒƒï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œæµ‹è¯•è¦†ç›–ç‡è¦æ±‚ã€‚

## ğŸ“‹ ç›®å½•

- [æµ‹è¯•åŸåˆ™](#æµ‹è¯•åŸåˆ™)
- [æµ‹è¯•ç±»å‹](#æµ‹è¯•ç±»å‹)
- [åç«¯æµ‹è¯•è§„èŒƒ](#åç«¯æµ‹è¯•è§„èŒƒ)
- [å‰ç«¯æµ‹è¯•è§„èŒƒ](#å‰ç«¯æµ‹è¯•è§„èŒƒ)
- [æµ‹è¯•è¦†ç›–ç‡è¦æ±‚](#æµ‹è¯•è¦†ç›–ç‡è¦æ±‚)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸ¯ æµ‹è¯•åŸåˆ™

### 1. æµ‹è¯•é‡‘å­—å¡”

```
       /\
      /  \      E2Eæµ‹è¯• (å°‘é‡)
     /    \     - å…³é”®ä¸šåŠ¡æµç¨‹
    /------\    
   /        \   é›†æˆæµ‹è¯• (é€‚é‡)
  /          \  - APIæ¥å£æµ‹è¯•
 /------------\ - ç»„ä»¶é›†æˆæµ‹è¯•
/              \
\--------------/ å•å…ƒæµ‹è¯• (å¤§é‡)
                - å‡½æ•°æµ‹è¯•
                - å·¥å…·å‡½æ•°æµ‹è¯•
```

### 2. æµ‹è¯•ç¼–å†™åŸåˆ™

- **F.I.R.S.T åŸåˆ™**:
  - **Fast**: æµ‹è¯•è¿è¡Œè¦å¿«
  - **Independent**: æµ‹è¯•ä¹‹é—´ç›¸äº’ç‹¬ç«‹
  - **Repeatable**: å¯é‡å¤æ‰§è¡Œ
  - **Self-Validating**: è‡ªåŠ¨éªŒè¯ç»“æœ
  - **Timely**: åŠæ—¶ç¼–å†™æµ‹è¯•

### 3. æµ‹è¯•å‘½åè§„èŒƒ

```python
# Python æµ‹è¯•å‘½å: test_{function}_{scenario}_{expected}
def test_create_course_with_valid_data_should_success()
def test_create_course_with_duplicate_name_should_raise_error()
def test_get_course_list_with_pagination_should_return_correct_items()
```

```javascript
// JavaScript æµ‹è¯•å‘½å: {function} should {expected} when {scenario}
describe('CourseAPI', () => {
  it('should create course when data is valid', () => {})
  it('should throw error when course name is duplicate', () => {})
  it('should return correct items when pagination is applied', () => {})
})
```

---

## ğŸ”¬ æµ‹è¯•ç±»å‹

### 1. å•å…ƒæµ‹è¯•

æµ‹è¯•å•ä¸ªå‡½æ•°æˆ–æ–¹æ³•çš„åŠŸèƒ½ã€‚

```python
# æµ‹è¯•å·¥å…·å‡½æ•°
def test_format_datetime():
    """æµ‹è¯•æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–"""
    dt = datetime(2024, 1, 1, 12, 0, 0)
    result = format_datetime(dt)
    assert result == "2024-01-01 12:00:00"

# æµ‹è¯•æ¨¡å‹æ–¹æ³•
def test_course_to_dict():
    """æµ‹è¯•è¯¾ç¨‹æ¨¡å‹è½¬å­—å…¸"""
    course = Course(title="PythonåŸºç¡€", status="draft")
    result = course.to_dict()
    
    assert result["title"] == "PythonåŸºç¡€"
    assert result["status"] == "draft"
```

### 2. é›†æˆæµ‹è¯•

æµ‹è¯•å¤šä¸ªæ¨¡å—æˆ–ç»„ä»¶çš„äº¤äº’ã€‚

```python
# æµ‹è¯• API æ¥å£
def test_api_create_course(client, db_session):
    """æµ‹è¯•åˆ›å»ºè¯¾ç¨‹API"""
    data = {
        "title": "PythonåŸºç¡€",
        "description": "é€‚åˆåˆå­¦è€…"
    }
    
    response = client.post("/api/courses", json=data)
    
    assert response.status_code == 200
    assert response.json()["code"] == 200
    assert response.json()["data"]["title"] == "PythonåŸºç¡€"
```

### 3. ç«¯åˆ°ç«¯æµ‹è¯• (E2E)

æµ‹è¯•å®Œæ•´çš„ä¸šåŠ¡æµç¨‹ã€‚

```javascript
// Cypress E2E æµ‹è¯•
describe('Course Management', () => {
  it('should complete course creation flow', () => {
    // 1. ç™»å½•
    cy.visit('/login')
    cy.get('[name=username]').type('teacher')
    cy.get('[name=password]').type('password')
    cy.get('[type=submit]').click()
    
    // 2. åˆ›å»ºè¯¾ç¨‹
    cy.visit('/courses/create')
    cy.get('[name=title]').type('PythonåŸºç¡€')
    cy.get('[name=description]').type('é€‚åˆåˆå­¦è€…')
    cy.get('[type=submit]').click()
    
    // 3. éªŒè¯ç»“æœ
    cy.contains('åˆ›å»ºæˆåŠŸ')
    cy.url().should('include', '/courses')
  })
})
```

---

## ğŸ åç«¯æµ‹è¯•è§„èŒƒ

### 1. æµ‹è¯•ç¯å¢ƒé…ç½®

```python
# tests/conftest.py
import pytest
from fastapi.testclient import TestClient
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

from app.main import app
from app.core.database import Base, get_db

# æµ‹è¯•æ•°æ®åº“é…ç½®
SQLALCHEMY_TEST_DATABASE_URL = "sqlite:///./test.db"

engine = create_engine(
    SQLALCHEMY_TEST_DATABASE_URL,
    connect_args={"check_same_thread": False}
)
TestingSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)


@pytest.fixture(scope="function")
def db_session():
    """åˆ›å»ºæµ‹è¯•æ•°æ®åº“ä¼šè¯"""
    Base.metadata.create_all(bind=engine)
    db = TestingSessionLocal()
    try:
        yield db
    finally:
        db.close()
        Base.metadata.drop_all(bind=engine)


@pytest.fixture(scope="function")
def client(db_session):
    """åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯"""
    def override_get_db():
        try:
            yield db_session
        finally:
            pass
    
    app.dependency_overrides[get_db] = override_get_db
    
    with TestClient(app) as test_client:
        yield test_client


@pytest.fixture
def sample_course(db_session):
    """åˆ›å»ºç¤ºä¾‹è¯¾ç¨‹"""
    course = Course(
        uuid="test-uuid-123",
        title="æµ‹è¯•è¯¾ç¨‹",
        description="è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•è¯¾ç¨‹",
        status="draft"
    )
    db_session.add(course)
    db_session.commit()
    db_session.refresh(course)
    return course
```

### 2. API æµ‹è¯•ç¤ºä¾‹

```python
# tests/test_api/test_courses.py
import pytest
from fastapi import status


class TestCourseAPI:
    """è¯¾ç¨‹ API æµ‹è¯•"""
    
    def test_get_courses_list(self, client, sample_course):
        """æµ‹è¯•è·å–è¯¾ç¨‹åˆ—è¡¨"""
        response = client.get("/api/courses?page=1&page_size=20")
        
        assert response.status_code == status.HTTP_200_OK
        data = response.json()
        
        assert data["code"] == 200
        assert "items" in data["data"]
        assert "total" in data["data"]
        assert len(data["data"]["items"]) > 0
    
    def test_create_course_success(self, client, db_session):
        """æµ‹è¯•åˆ›å»ºè¯¾ç¨‹ - æˆåŠŸ"""
        data = {
            "title": "PythonåŸºç¡€",
            "description": "é€‚åˆåˆå­¦è€…",
            "status": "draft"
        }
        
        response = client.post("/api/courses", json=data)
        
        assert response.status_code == status.HTTP_200_OK
        result = response.json()
        
        assert result["code"] == 200
        assert result["data"]["title"] == "PythonåŸºç¡€"
        assert "uuid" in result["data"]
    
    def test_create_course_with_duplicate_name(self, client, sample_course):
        """æµ‹è¯•åˆ›å»ºè¯¾ç¨‹ - åç§°é‡å¤"""
        data = {
            "title": sample_course.title,  # é‡å¤çš„åç§°
            "description": "æµ‹è¯•æè¿°"
        }
        
        response = client.post("/api/courses", json=data)
        
        assert response.status_code == status.HTTP_400_BAD_REQUEST
        result = response.json()
        assert result["code"] == 400
    
    def test_get_course_detail_success(self, client, sample_course):
        """æµ‹è¯•è·å–è¯¾ç¨‹è¯¦æƒ… - æˆåŠŸ"""
        response = client.get(f"/api/courses/{sample_course.uuid}")
        
        assert response.status_code == status.HTTP_200_OK
        result = response.json()
        
        assert result["code"] == 200
        assert result["data"]["uuid"] == sample_course.uuid
        assert result["data"]["title"] == sample_course.title
    
    def test_get_course_detail_not_found(self, client):
        """æµ‹è¯•è·å–è¯¾ç¨‹è¯¦æƒ… - ä¸å­˜åœ¨"""
        response = client.get("/api/courses/non-existent-uuid")
        
        assert response.status_code == status.HTTP_404_NOT_FOUND
        result = response.json()
        assert result["code"] == 404
    
    def test_update_course_success(self, client, sample_course):
        """æµ‹è¯•æ›´æ–°è¯¾ç¨‹ - æˆåŠŸ"""
        data = {
            "title": "æ›´æ–°åçš„æ ‡é¢˜",
            "description": "æ›´æ–°åçš„æè¿°"
        }
        
        response = client.put(f"/api/courses/{sample_course.uuid}", json=data)
        
        assert response.status_code == status.HTTP_200_OK
        result = response.json()
        
        assert result["code"] == 200
        assert result["data"]["title"] == "æ›´æ–°åçš„æ ‡é¢˜"
    
    def test_delete_course_success(self, client, sample_course):
        """æµ‹è¯•åˆ é™¤è¯¾ç¨‹ - æˆåŠŸ"""
        response = client.delete(f"/api/courses/{sample_course.uuid}")
        
        assert response.status_code == status.HTTP_200_OK
        result = response.json()
        assert result["code"] == 200
```

### 3. ä¸šåŠ¡é€»è¾‘æµ‹è¯•

```python
# tests/test_services/test_course_service.py
import pytest
from app.services.course_service import CourseService


class TestCourseService:
    """è¯¾ç¨‹æœåŠ¡æµ‹è¯•"""
    
    def test_validate_course_data(self):
        """æµ‹è¯•è¯¾ç¨‹æ•°æ®éªŒè¯"""
        service = CourseService()
        
        # æœ‰æ•ˆæ•°æ®
        valid_data = {"title": "PythonåŸºç¡€", "description": "æµ‹è¯•"}
        assert service.validate_course_data(valid_data) is True
        
        # æ— æ•ˆæ•°æ® - æ ‡é¢˜å¤ªçŸ­
        invalid_data = {"title": "P", "description": "æµ‹è¯•"}
        with pytest.raises(ValueError):
            service.validate_course_data(invalid_data)
    
    def test_calculate_course_progress(self, sample_course):
        """æµ‹è¯•è®¡ç®—è¯¾ç¨‹è¿›åº¦"""
        service = CourseService()
        
        # åˆ›å»ºå•å…ƒå’Œä»»åŠ¡
        # ... å‡†å¤‡æ•°æ®
        
        progress = service.calculate_course_progress(sample_course)
        
        assert 0 <= progress <= 100
        assert isinstance(progress, (int, float))
```

### 4. æ¨¡å‹æµ‹è¯•

```python
# tests/test_models/test_course.py
import pytest
from datetime import datetime
from app.models.agent import Agent


class TestCourseModel:
    """è¯¾ç¨‹æ¨¡å‹æµ‹è¯•"""
    
    def test_create_course(self, db_session):
        """æµ‹è¯•åˆ›å»ºè¯¾ç¨‹"""
        agent = Agent(
            uuid="test-uuid",
            title="æµ‹è¯•è¯¾ç¨‹",
            status="draft"
        )
        
        db_session.add(course)
        db_session.commit()
        
        assert course.id is not None
        assert course.created_at is not None
    
    def test_course_to_dict(self):
        """æµ‹è¯•è¯¾ç¨‹è½¬å­—å…¸"""
        agent = Agent(
            uuid="test-uuid",
            title="æµ‹è¯•è¯¾ç¨‹",
            status="draft"
        )
        
        result = course.to_dict()
        
        assert result["uuid"] == "test-uuid"
        assert result["title"] == "æµ‹è¯•è¯¾ç¨‹"
        assert result["status"] == "draft"
    
    def test_course_soft_delete(self, db_session):
        """æµ‹è¯•è¯¾ç¨‹è½¯åˆ é™¤"""
        agent = Agent(title="æµ‹è¯•è¯¾ç¨‹")
        db_session.add(course)
        db_session.commit()
        
        # è½¯åˆ é™¤
        course.is_deleted = True
        course.deleted_at = datetime.now()
        db_session.commit()
        
        # éªŒè¯
        assert course.is_deleted is True
        assert course.deleted_at is not None
```

---

## ğŸ¨ å‰ç«¯æµ‹è¯•è§„èŒƒ

### 1. å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰

```javascript
// tests/unit/utils/format.spec.js
import { describe, it, expect } from 'vitest'
import { formatDate, formatCurrency } from '@/utils/format'

describe('formatDate', () => {
  it('should format date correctly', () => {
    const date = new Date('2024-01-01 12:00:00')
    const result = formatDate(date, 'YYYY-MM-DD')
    expect(result).toBe('2024-01-01')
  })
  
  it('should handle null date', () => {
    const result = formatDate(null)
    expect(result).toBe('-')
  })
})

describe('formatCurrency', () => {
  it('should format currency with symbol', () => {
    const result = formatCurrency(1234.56)
    expect(result).toBe('Â¥1,234.56')
  })
})
```

### 2. ç»„ä»¶æµ‹è¯•

```javascript
// tests/unit/components/CourseCard.spec.js
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import CourseCard from '@/components/CourseCard.vue'

describe('CourseCard', () => {
  it('should render course title', () => {
    const wrapper = mount(CourseCard, {
      props: {
        course: {
          title: 'PythonåŸºç¡€',
          description: 'é€‚åˆåˆå­¦è€…'
        }
      }
    })
    
    expect(wrapper.text()).toContain('PythonåŸºç¡€')
  })
  
  it('should emit click event when card is clicked', async () => {
    const wrapper = mount(CourseCard, {
      props: {
        course: { title: 'PythonåŸºç¡€' }
      }
    })
    
    await wrapper.trigger('click')
    
    expect(wrapper.emitted()).toHaveProperty('click')
  })
})
```

### 3. API Mock æµ‹è¯•

```javascript
// tests/unit/api/courses.spec.js
import { describe, it, expect, vi } from 'vitest'
import { getAgents, createAgent } from '@/modules/ai/api/agents'
import request from '@/utils/request'

// Mock request æ¨¡å—
vi.mock('@/utils/request')

describe('Course API', () => {
  it('should get courses list', async () => {
    const mockData = {
      items: [
        { id: 1, title: 'Course 1' },
        { id: 2, title: 'Course 2' }
      ],
      total: 2
    }
    
    request.mockResolvedValue(mockData)
    
    const result = await getCourses({ page: 1, pageSize: 20 })
    
    expect(result).toEqual(mockData)
    expect(request).toHaveBeenCalledWith({
      url: '/api/courses',
      method: 'get',
      params: { page: 1, pageSize: 20 }
    })
  })
  
  it('should create course', async () => {
    const courseData = {
      title: 'New Course',
      description: 'Test'
    }
    const mockResponse = { id: 1, ...courseData }
    
    request.mockResolvedValue(mockResponse)
    
    const result = await createCourse(courseData)
    
    expect(result).toEqual(mockResponse)
  })
})
```

### 4. E2E æµ‹è¯•ï¼ˆCypressï¼‰

```javascript
// cypress/e2e/course-management.cy.js
describe('Course Management', () => {
  beforeEach(() => {
    // ç™»å½•
    cy.login('teacher', 'password')
  })
  
  it('should create a new course', () => {
    // è®¿é—®è¯¾ç¨‹åˆ—è¡¨é¡µ
    cy.visit('/courses')
    
    // ç‚¹å‡»åˆ›å»ºæŒ‰é’®
    cy.contains('åˆ›å»ºè¯¾ç¨‹').click()
    
    // å¡«å†™è¡¨å•
    cy.get('[name=title]').type('PythonåŸºç¡€')
    cy.get('[name=description]').type('é€‚åˆåˆå­¦è€…')
    
    // æäº¤
    cy.get('[type=submit]').click()
    
    // éªŒè¯
    cy.contains('åˆ›å»ºæˆåŠŸ')
    cy.contains('PythonåŸºç¡€').should('be.visible')
  })
  
  it('should edit course', () => {
    cy.visit('/courses')
    
    // ç‚¹å‡»ç¼–è¾‘æŒ‰é’®
    cy.contains('PythonåŸºç¡€')
      .parents('.course-item')
      .find('.edit-btn')
      .click()
    
    // ä¿®æ”¹æ ‡é¢˜
    cy.get('[name=title]')
      .clear()
      .type('Pythonè¿›é˜¶')
    
    // ä¿å­˜
    cy.get('[type=submit]').click()
    
    // éªŒè¯
    cy.contains('æ›´æ–°æˆåŠŸ')
    cy.contains('Pythonè¿›é˜¶').should('be.visible')
  })
})
```

---

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

### 1. è¦†ç›–ç‡ç›®æ ‡

| ç±»å‹ | ç›®æ ‡è¦†ç›–ç‡ | è¯´æ˜ |
|------|-----------|------|
| **æ ¸å¿ƒä¸šåŠ¡é€»è¾‘** | â‰¥ 80% | å…³é”®åŠŸèƒ½å¿…é¡»å……åˆ†æµ‹è¯• |
| **API æ¥å£** | â‰¥ 60% | ä¸»è¦æ¥å£éœ€è¦æµ‹è¯• |
| **å·¥å…·å‡½æ•°** | â‰¥ 90% | å·¥å…·å‡½æ•°æ˜“äºæµ‹è¯•ï¼Œè¦æ±‚é«˜è¦†ç›– |
| **UI ç»„ä»¶** | â‰¥ 50% | é‡ç‚¹ç»„ä»¶éœ€è¦æµ‹è¯• |
| **æ•´ä½“é¡¹ç›®** | â‰¥ 60% | æ€»ä½“è¦†ç›–ç‡è¦æ±‚ |

### 2. è¿è¡Œè¦†ç›–ç‡æµ‹è¯•

```bash
# Python åç«¯
pytest --cov=app --cov-report=html tests/

# JavaScript å‰ç«¯
npm run test:coverage
```

### 3. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š

```bash
# åç«¯: æ‰“å¼€ htmlcov/index.html
open htmlcov/index.html

# å‰ç«¯: æ‰“å¼€ coverage/index.html
open coverage/index.html
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æµ‹è¯•æ•°æ®ç®¡ç†

```python
# âœ… ä½¿ç”¨ Fixture ç®¡ç†æµ‹è¯•æ•°æ®
@pytest.fixture
def sample_courses(db_session):
    """åˆ›å»ºå¤šä¸ªç¤ºä¾‹è¯¾ç¨‹"""
    courses = [
        Course(title=f"è¯¾ç¨‹{i}", status="draft")
        for i in range(5)
    ]
    db_session.add_all(courses)
    db_session.commit()
    return courses

# âœ… ä½¿ç”¨ Factory åˆ›å»ºæµ‹è¯•æ•°æ®
class CourseFactory:
    @staticmethod
    def create(title="é»˜è®¤è¯¾ç¨‹", **kwargs):
        return Course(title=title, **kwargs)

# âŒ é¿å…ç¡¬ç¼–ç æµ‹è¯•æ•°æ®
def test_example():
    course = Course(title="è¯¾ç¨‹1", description="æè¿°1", ...)  # å¤ªå†—é•¿
```

### 2. æµ‹è¯•ç‹¬ç«‹æ€§

```python
# âœ… æ¯ä¸ªæµ‹è¯•ç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•
def test_create_course(db_session):
    course = Course(title="æµ‹è¯•è¯¾ç¨‹")
    db_session.add(course)
    db_session.commit()
    assert course.id is not None

def test_get_course(db_session):
    # åˆ›å»ºè‡ªå·±çš„æ•°æ®ï¼Œä¸ä¾èµ–ä¸Šä¸€ä¸ªæµ‹è¯•
    course = Course(title="æµ‹è¯•è¯¾ç¨‹2")
    db_session.add(course)
    db_session.commit()
    
    result = db_session.query(Course).filter_by(id=course.id).first()
    assert result is not None
```

### 3. æµ‹è¯•å‘½åæ¸…æ™°

```python
# âœ… æ¸…æ™°çš„æµ‹è¯•å‘½å
def test_create_course_with_valid_data_should_success():
    pass

def test_create_course_with_empty_title_should_raise_error():
    pass

# âŒ æ¨¡ç³Šçš„æµ‹è¯•å‘½å
def test_course_1():
    pass

def test_create():
    pass
```

### 4. è¾¹ç•Œæµ‹è¯•

```python
# âœ… æµ‹è¯•è¾¹ç•Œæƒ…å†µ
def test_pagination_with_empty_list():
    """æµ‹è¯•ç©ºåˆ—è¡¨åˆ†é¡µ"""
    pass

def test_pagination_with_one_item():
    """æµ‹è¯•åªæœ‰ä¸€æ¡æ•°æ®çš„åˆ†é¡µ"""
    pass

def test_pagination_with_exact_page_size():
    """æµ‹è¯•æ•°æ®é‡æ­£å¥½ç­‰äºé¡µå¤§å°"""
    pass

def test_pagination_with_last_page():
    """æµ‹è¯•æœ€åä¸€é¡µ"""
    pass
```

### 5. å¼‚å¸¸æµ‹è¯•

```python
# âœ… æµ‹è¯•å¼‚å¸¸æƒ…å†µ
def test_create_course_with_invalid_data_should_raise_error():
    """æµ‹è¯•æ— æ•ˆæ•°æ®åº”è¯¥æŠ›å‡ºå¼‚å¸¸"""
    with pytest.raises(ValueError):
        create_course({"title": ""})  # ç©ºæ ‡é¢˜

def test_get_non_existent_course_should_raise_404():
    """æµ‹è¯•è·å–ä¸å­˜åœ¨çš„è¯¾ç¨‹åº”è¯¥è¿”å›404"""
    response = client.get("/api/courses/non-existent")
    assert response.status_code == 404
```

---

## ğŸš€ æµ‹è¯•æ‰§è¡Œ

### 1. è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# Python åç«¯
pytest

# JavaScript å‰ç«¯
npm run test
```

### 2. è¿è¡Œç‰¹å®šæµ‹è¯•

```bash
# è¿è¡Œç‰¹å®šæ–‡ä»¶
pytest tests/test_api/test_courses.py

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_api/test_courses.py::test_create_course_success

# è¿è¡ŒåŒ¹é…çš„æµ‹è¯•
pytest -k "course"
```

### 3. æŒç»­é›†æˆ

```yaml
# .github/workflows/test.yml
name: Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.9
    
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
        pip install pytest pytest-cov
    
    - name: Run tests
      run: pytest --cov=app tests/
    
    - name: Upload coverage
      run: codecov
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [Pytest æ–‡æ¡£](https://docs.pytest.org/)
- [Vitest æ–‡æ¡£](https://vitest.dev/)
- [Cypress æ–‡æ¡£](https://www.cypress.io/)
- [Vue Test Utils](https://test-utils.vuejs.org/)

---

**è®°ä½**: æµ‹è¯•æ˜¯ä»£ç è´¨é‡çš„ä¿éšœï¼ŒæŠ•å…¥æ—¶é—´ç¼–å†™æµ‹è¯•ä¼šå¤§å¤§å‡å°‘åæœŸçš„ bug ä¿®å¤æˆæœ¬ï¼
