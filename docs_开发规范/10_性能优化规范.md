# æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

> æœ¬æ–‡æ¡£å®šä¹‰äº† CodeHubot é¡¹ç›®çš„æ€§èƒ½ä¼˜åŒ–è§„èŒƒï¼ŒåŒ…æ‹¬åç«¯ã€å‰ç«¯å’Œæ•°æ®åº“çš„ä¼˜åŒ–ç­–ç•¥ã€‚

## ğŸ“‹ ç›®å½•

- [åç«¯æ€§èƒ½ä¼˜åŒ–](#åç«¯æ€§èƒ½ä¼˜åŒ–)
- [å‰ç«¯æ€§èƒ½ä¼˜åŒ–](#å‰ç«¯æ€§èƒ½ä¼˜åŒ–)
- [æ•°æ®åº“ä¼˜åŒ–](#æ•°æ®åº“ä¼˜åŒ–)
- [ç¼“å­˜ç­–ç•¥](#ç¼“å­˜ç­–ç•¥)
- [æ€§èƒ½ç›‘æ§](#æ€§èƒ½ç›‘æ§)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## âš¡ åç«¯æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

#### é¿å… N+1 æŸ¥è¯¢

```python
from sqlalchemy.orm import joinedload, selectinload

# âŒ ä¸å¥½: N+1 æŸ¥è¯¢é—®é¢˜
@router.get("/courses")
def get_courses(db: Session = Depends(get_db)):
    courses = db.query(Course).all()
    
    result = []
    for course in courses:
        # æ¯æ¬¡å¾ªç¯éƒ½ä¼šæŸ¥è¯¢æ•°æ®åº“(N+1é—®é¢˜)
        units = course.units  # è§¦å‘é¢å¤–æŸ¥è¯¢
        result.append({
            "course": course.to_dict(),
            "units": [u.to_dict() for u in units]
        })
    
    return success_response(data=result)

# âœ… å¥½: ä½¿ç”¨ joinedload é¢„åŠ è½½
@router.get("/courses")
def get_courses(db: Session = Depends(get_db)):
    # ä¸€æ¬¡æ€§åŠ è½½è¯¾ç¨‹å’Œå•å…ƒ
    courses = db.query(Course).options(
        joinedload(Course.units)
    ).all()
    
    result = [
        {
            "course": course.to_dict(),
            "units": [u.to_dict() for u in course.units]  # ä¸è§¦å‘é¢å¤–æŸ¥è¯¢
        }
        for course in courses
    ]
    
    return success_response(data=result)

# âœ… å¤šå¯¹å¤šå…³ç³»ä½¿ç”¨ selectinload
courses = db.query(Course).options(
    selectinload(Course.students),
    selectinload(Course.units).selectinload(Unit.tasks)
).all()
```

#### ä»…æŸ¥è¯¢éœ€è¦çš„å­—æ®µ

```python
from sqlalchemy import select

# âŒ ä¸å¥½: æŸ¥è¯¢æ‰€æœ‰å­—æ®µ
courses = db.query(Course).all()

# âœ… å¥½: åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
courses = db.query(
    Course.id,
    Course.uuid,
    Course.title,
    Course.status
).all()

# æˆ–ä½¿ç”¨ with_entities
courses = db.query(Course).with_entities(
    Course.id,
    Course.uuid,
    Course.title
).all()
```

#### ä½¿ç”¨åˆ†é¡µ

```python
# âœ… å§‹ç»ˆä½¿ç”¨åˆ†é¡µ,é¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
@router.get("/courses")
def get_courses(
    page: int = Query(1, ge=1),
    page_size: int = Query(20, ge=1, le=100),
    db: Session = Depends(get_db)
):
    # è®¡ç®—æ€»æ•°
    total = db.query(Course).count()
    
    # åˆ†é¡µæŸ¥è¯¢
    courses = db.query(Course).offset(
        (page - 1) * page_size
    ).limit(page_size).all()
    
    return success_response(data={
        "items": [c.to_dict() for c in courses],
        "total": total,
        "page": page,
        "page_size": page_size
    })
```

### 2. ä½¿ç”¨ç´¢å¼•

```python
# ç¡®ä¿å¸¸ç”¨æŸ¥è¯¢å­—æ®µæœ‰ç´¢å¼•
# åœ¨æ¨¡å‹ä¸­å®šä¹‰ç´¢å¼•
class Course(Base):
    __tablename__ = "pbl_courses"
    
    id = Column(BigInteger, primary_key=True, index=True)
    uuid = Column(String(36), unique=True, index=True)
    school_id = Column(BigInteger, index=True)  # å¤–é”®ç´¢å¼•
    status = Column(String(20), index=True)     # é¢‘ç¹ç­›é€‰å­—æ®µ
    created_at = Column(DateTime, index=True)    # æ’åºå­—æ®µ
    
    # è”åˆç´¢å¼•
    __table_args__ = (
        Index('idx_school_status', 'school_id', 'status'),
    )
```

### 3. å¼‚æ­¥ä»»åŠ¡

```python
from celery import Celery

celery_app = Celery('tasks', broker='redis://localhost:6379/0')

# âœ… è€—æ—¶æ“ä½œä½¿ç”¨å¼‚æ­¥ä»»åŠ¡
@celery_app.task
def process_video_thumbnail(video_id: int):
    """ç”Ÿæˆè§†é¢‘ç¼©ç•¥å›¾(è€—æ—¶æ“ä½œ)"""
    # å¤„ç†é€»è¾‘
    pass

@celery_app.task
def send_email_notification(user_id: int, subject: str, content: str):
    """å‘é€é‚®ä»¶(è€—æ—¶æ“ä½œ)"""
    # å‘é€é€»è¾‘
    pass

# API ä¸­è°ƒç”¨å¼‚æ­¥ä»»åŠ¡
@router.post("/videos")
def upload_video(video: UploadFile, db: Session = Depends(get_db)):
    # ä¿å­˜è§†é¢‘
    video_record = Video(filename=video.filename)
    db.add(video_record)
    db.commit()
    
    # âœ… å¼‚æ­¥ç”Ÿæˆç¼©ç•¥å›¾,ä¸é˜»å¡å“åº”
    process_video_thumbnail.delay(video_record.id)
    
    return success_response(data=video_record.to_dict())
```

### 4. å“åº”æ•°æ®ä¼˜åŒ–

```python
# âŒ ä¸å¥½: è¿”å›å®Œæ•´çš„åµŒå¥—å¯¹è±¡
@router.get("/courses/{uuid}")
def get_course(uuid: str, db: Session = Depends(get_db)):
    course = db.query(Course).options(
        joinedload(Course.units).joinedload(Unit.tasks),
        joinedload(Course.students)
    ).filter(Course.uuid == uuid).first()
    
    # åŒ…å«å¤§é‡åµŒå¥—æ•°æ®,å“åº”ä½“å¾ˆå¤§
    return success_response(data=course.to_dict(include_all=True))

# âœ… å¥½: åˆ†çº§è¿”å›æ•°æ®
@router.get("/courses/{uuid}")
def get_course_summary(uuid: str, db: Session = Depends(get_db)):
    """è¯¾ç¨‹æ¦‚è¦(ä¸åŒ…å«è¯¦ç»†å†…å®¹)"""
    course = db.query(Course).filter(Course.uuid == uuid).first()
    return success_response(data=course.to_dict())

@router.get("/courses/{uuid}/detail")
def get_course_detail(uuid: str, db: Session = Depends(get_db)):
    """è¯¾ç¨‹è¯¦æƒ…(åŒ…å«å•å…ƒåˆ—è¡¨)"""
    course = db.query(Course).options(
        joinedload(Course.units)
    ).filter(Course.uuid == uuid).first()
    
    return success_response(data={
        **course.to_dict(),
        "units": [u.to_dict() for u in course.units]
    })

@router.get("/courses/{uuid}/units/{unit_id}/tasks")
def get_unit_tasks(uuid: str, unit_id: int, db: Session = Depends(get_db)):
    """æŒ‰éœ€åŠ è½½ä»»åŠ¡åˆ—è¡¨"""
    tasks = db.query(Task).filter(Task.unit_id == unit_id).all()
    return success_response(data=[t.to_dict() for t in tasks])
```

---

## ğŸš€ å‰ç«¯æ€§èƒ½ä¼˜åŒ–

### 1. è·¯ç”±æ‡’åŠ è½½

```javascript
// router/index.js

// âŒ ä¸å¥½: ç›´æ¥å¯¼å…¥(æ‰“åŒ…åˆ°ä¸»bundle)
import CourseList from '@/modules/pbl/views/CourseList.vue'
import CourseDetail from '@/modules/pbl/views/CourseDetail.vue'

// âœ… å¥½: æ‡’åŠ è½½(æŒ‰éœ€åŠ è½½)
const routes = [
  {
    path: '/courses',
    name: 'CourseList',
    component: () => import('@/modules/pbl/views/CourseList.vue')
  },
  {
    path: '/courses/:uuid',
    name: 'CourseDetail',
    component: () => import('@/modules/pbl/views/CourseDetail.vue')
  }
]
```

### 2. ç»„ä»¶æŒ‰éœ€å¯¼å…¥

```javascript
// âŒ ä¸å¥½: å¯¼å…¥æ•´ä¸ª Element Plus
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'
app.use(ElementPlus)

// âœ… å¥½: æŒ‰éœ€å¯¼å…¥ç»„ä»¶
import { ElButton, ElTable, ElMessage } from 'element-plus'
app.component('ElButton', ElButton)
app.component('ElTable', ElTable)
```

### 3. è™šæ‹Ÿæ»šåŠ¨(å¤§åˆ—è¡¨ä¼˜åŒ–)

```vue
<template>
  <!-- âŒ ä¸å¥½: æ¸²æŸ“æ‰€æœ‰æ•°æ®(10000æ¡) -->
  <div class="list">
    <div v-for="item in items" :key="item.id" class="item">
      {{ item.name }}
    </div>
  </div>
  
  <!-- âœ… å¥½: ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ -->
  <el-table-v2
    :columns="columns"
    :data="items"
    :width="700"
    :height="400"
    fixed
  />
</template>

<script setup>
// æˆ–ä½¿ç”¨ vue-virtual-scroller
import { RecycleScroller } from 'vue-virtual-scroller'
import 'vue-virtual-scroller/dist/vue-virtual-scroller.css'
</script>
```

### 4. å›¾ç‰‡æ‡’åŠ è½½

```vue
<template>
  <div class="course-list">
    <!-- âœ… ä½¿ç”¨ v-lazy æˆ– loading="lazy" -->
    <img
      v-for="course in courses"
      :key="course.id"
      v-lazy="course.cover_image"
      alt="è¯¾ç¨‹å°é¢"
    />
    
    <!-- åŸç”Ÿæ‡’åŠ è½½ -->
    <img
      :src="course.cover_image"
      loading="lazy"
      alt="è¯¾ç¨‹å°é¢"
    />
  </div>
</template>

<script setup>
// ä½¿ç”¨ vue-lazyload
import VueLazyload from 'vue-lazyload'
app.use(VueLazyload, {
  preLoad: 1.3,
  loading: '/loading.gif',
  error: '/error.png'
})
</script>
```

### 5. é˜²æŠ–å’ŒèŠ‚æµ

```vue
<template>
  <div>
    <!-- æœç´¢æ¡† - ä½¿ç”¨é˜²æŠ– -->
    <el-input
      v-model="searchKeyword"
      @input="handleSearchDebounced"
      placeholder="æœç´¢è¯¾ç¨‹"
    />
    
    <!-- æ»šåŠ¨åŠ è½½ - ä½¿ç”¨èŠ‚æµ -->
    <div @scroll="handleScrollThrottled">
      <!-- å†…å®¹ -->
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { debounce, throttle } from 'lodash-es'

const searchKeyword = ref('')

// âœ… é˜²æŠ–: ç”¨æˆ·åœæ­¢è¾“å…¥åæ‰æ‰§è¡Œ
const handleSearchDebounced = debounce((value) => {
  console.log('æœç´¢:', value)
  // æ‰§è¡Œæœç´¢
}, 500)

// âœ… èŠ‚æµ: é™åˆ¶æ‰§è¡Œé¢‘ç‡
const handleScrollThrottled = throttle(() => {
  console.log('æ»šåŠ¨äº‹ä»¶')
  // åŠ è½½æ›´å¤š
}, 200)
</script>
```

### 6. è®¡ç®—å±æ€§ç¼“å­˜

```vue
<script setup>
import { ref, computed } from 'vue'

const courses = ref([...])

// âœ… å¥½: ä½¿ç”¨è®¡ç®—å±æ€§(æœ‰ç¼“å­˜)
const activeCourses = computed(() => {
  return courses.value.filter(c => c.status === 'active')
})

const totalCount = computed(() => {
  return courses.value.length
})

// âŒ ä¸å¥½: ä½¿ç”¨æ–¹æ³•(æ¯æ¬¡è°ƒç”¨éƒ½è®¡ç®—)
function getActiveCourses() {
  return courses.value.filter(c => c.status === 'active')
}
</script>
```

### 7. Keep-Alive ç¼“å­˜ç»„ä»¶

```vue
<template>
  <router-view v-slot="{ Component }">
    <!-- âœ… ç¼“å­˜åˆ—è¡¨é¡µé¢,é¿å…é‡å¤è¯·æ±‚ -->
    <keep-alive :include="['CourseList', 'StudentList']">
      <component :is="Component" />
    </keep-alive>
  </router-view>
</template>
```

---

## ğŸ—„ï¸ æ•°æ®åº“ä¼˜åŒ–

### 1. ç´¢å¼•ä¼˜åŒ–

```sql
-- âœ… ä¸ºå¸¸ç”¨æŸ¥è¯¢æ·»åŠ ç´¢å¼•
-- 1. å¤–é”®ç´¢å¼•
ALTER TABLE `pbl_courses` ADD INDEX `idx_school_id` (`school_id`);

-- 2. çŠ¶æ€ç­›é€‰ç´¢å¼•
ALTER TABLE `pbl_courses` ADD INDEX `idx_status` (`status`);

-- 3. æ’åºå­—æ®µç´¢å¼•
ALTER TABLE `pbl_courses` ADD INDEX `idx_created_at` (`created_at`);

-- 4. è”åˆç´¢å¼•(æ³¨æ„é¡ºåº)
ALTER TABLE `pbl_courses` 
ADD INDEX `idx_school_status_created` (`school_id`, `status`, `created_at`);

-- æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ
EXPLAIN SELECT * FROM pbl_courses 
WHERE school_id = 1 AND status = 'published' 
ORDER BY created_at DESC;
```

### 2. æŸ¥è¯¢ä¼˜åŒ–

```sql
-- âŒ ä¸å¥½: SELECT *
SELECT * FROM pbl_courses WHERE school_id = 1;

-- âœ… å¥½: åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
SELECT id, uuid, title, status, created_at 
FROM pbl_courses 
WHERE school_id = 1;

-- âŒ ä¸å¥½: ä¸ä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢
SELECT * FROM pbl_courses WHERE title LIKE '%Python%';

-- âœ… å¥½: å‰ç¼€åŒ¹é…å¯ä»¥ä½¿ç”¨ç´¢å¼•
SELECT * FROM pbl_courses WHERE title LIKE 'Python%';

-- âŒ ä¸å¥½: OR æŸ¥è¯¢(å¯èƒ½ä¸ä½¿ç”¨ç´¢å¼•)
SELECT * FROM pbl_courses 
WHERE school_id = 1 OR status = 'published';

-- âœ… å¥½: ä½¿ç”¨ UNION(å¦‚æœåˆé€‚)
SELECT * FROM pbl_courses WHERE school_id = 1
UNION
SELECT * FROM pbl_courses WHERE status = 'published';
```

### 3. æ‰¹é‡æ“ä½œ

```python
# âŒ ä¸å¥½: å¾ªç¯æ’å…¥(N æ¬¡æ•°æ®åº“æ“ä½œ)
for student in student_list:
    new_student = Student(name=student['name'], email=student['email'])
    db.add(new_student)
    db.commit()  # æ¯æ¬¡éƒ½ commit

# âœ… å¥½: æ‰¹é‡æ’å…¥(1 æ¬¡æ•°æ®åº“æ“ä½œ)
students = [
    Student(name=s['name'], email=s['email'])
    for s in student_list
]
db.bulk_save_objects(students)
db.commit()

# æˆ–ä½¿ç”¨ add_all
db.add_all(students)
db.commit()
```

### 4. è¿æ¥æ± é…ç½®

```python
from sqlalchemy import create_engine
from sqlalchemy.pool import QueuePool

# é…ç½®æ•°æ®åº“è¿æ¥æ± 
engine = create_engine(
    DATABASE_URL,
    poolclass=QueuePool,
    pool_size=20,          # è¿æ¥æ± å¤§å°
    max_overflow=10,       # æœ€å¤§æº¢å‡ºè¿æ¥æ•°
    pool_timeout=30,       # è·å–è¿æ¥è¶…æ—¶æ—¶é—´
    pool_recycle=3600,     # è¿æ¥å›æ”¶æ—¶é—´(1å°æ—¶)
    pool_pre_ping=True,    # è¿æ¥å‰ ping,ç¡®ä¿è¿æ¥æœ‰æ•ˆ
    echo=False             # ç”Ÿäº§ç¯å¢ƒå…³é—­ SQL æ—¥å¿—
)
```

---

## ğŸ’¾ ç¼“å­˜ç­–ç•¥

### 1. Redis ç¼“å­˜

```python
import redis
import json
from functools import wraps

# Redis å®¢æˆ·ç«¯
redis_client = redis.Redis(host='localhost', port=6379, db=0, decode_responses=True)

def cache_result(expire_seconds=300):
    """ç¼“å­˜è£…é¥°å™¨"""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            # ç”Ÿæˆç¼“å­˜ key
            cache_key = f"{func.__name__}:{args}:{kwargs}"
            
            # å°è¯•ä»ç¼“å­˜è·å–
            cached = redis_client.get(cache_key)
            if cached:
                return json.loads(cached)
            
            # æ‰§è¡Œå‡½æ•°
            result = func(*args, **kwargs)
            
            # å­˜å…¥ç¼“å­˜
            redis_client.setex(
                cache_key,
                expire_seconds,
                json.dumps(result)
            )
            
            return result
        return wrapper
    return decorator

# ä½¿ç”¨ç¼“å­˜
@cache_result(expire_seconds=600)  # ç¼“å­˜ 10 åˆ†é’Ÿ
def get_course_statistics(school_id: int):
    """è·å–å­¦æ ¡è¯¾ç¨‹ç»Ÿè®¡(è€—æ—¶æŸ¥è¯¢)"""
    # å¤æ‚çš„ç»Ÿè®¡æŸ¥è¯¢
    return db.query(...).all()
```

### 2. åº”ç”¨å±‚ç¼“å­˜

```python
from functools import lru_cache

# âœ… ä½¿ç”¨ LRU ç¼“å­˜é…ç½®æ•°æ®
@lru_cache(maxsize=128)
def get_system_config(config_key: str) -> str:
    """è·å–ç³»ç»Ÿé…ç½®(ä¸å¸¸å˜åŒ–)"""
    config = db.query(SystemConfig).filter(
        SystemConfig.config_key == config_key
    ).first()
    return config.config_value if config else None

# ä½¿ç”¨
max_upload_size = get_system_config('max_upload_size')
```

### 3. å‰ç«¯ç¼“å­˜

```javascript
// ä½¿ç”¨ localStorage ç¼“å­˜é™æ€æ•°æ®
const CACHE_KEY = 'course_categories'
const CACHE_EXPIRE = 1000 * 60 * 60  // 1å°æ—¶

export async function getCourseCategories() {
  // æ£€æŸ¥ç¼“å­˜
  const cached = localStorage.getItem(CACHE_KEY)
  if (cached) {
    const data = JSON.parse(cached)
    if (Date.now() - data.timestamp < CACHE_EXPIRE) {
      return data.value
    }
  }
  
  // è¯·æ±‚æ•°æ®
  const result = await request({
    url: '/api/course-categories',
    method: 'get'
  })
  
  // å­˜å…¥ç¼“å­˜
  localStorage.setItem(CACHE_KEY, JSON.stringify({
    value: result,
    timestamp: Date.now()
  }))
  
  return result
}
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§

### 1. API å“åº”æ—¶é—´ç›‘æ§

```python
import time
import logging
from fastapi import Request

logger = logging.getLogger(__name__)

@app.middleware("http")
async def log_requests(request: Request, call_next):
    """è®°å½•è¯·æ±‚å“åº”æ—¶é—´"""
    start_time = time.time()
    
    response = await call_next(request)
    
    process_time = time.time() - start_time
    
    # è®°å½•æ…¢æŸ¥è¯¢(è¶…è¿‡1ç§’)
    if process_time > 1.0:
        logger.warning(
            f"æ…¢æŸ¥è¯¢: {request.method} {request.url.path} "
            f"è€—æ—¶: {process_time:.2f}ç§’"
        )
    
    # æ·»åŠ å“åº”å¤´
    response.headers["X-Process-Time"] = str(process_time)
    
    return response
```

### 2. æ•°æ®åº“æŸ¥è¯¢ç›‘æ§

```python
from sqlalchemy import event
from sqlalchemy.engine import Engine
import logging

logger = logging.getLogger(__name__)

@event.listens_for(Engine, "before_cursor_execute")
def before_cursor_execute(conn, cursor, statement, parameters, context, executemany):
    conn.info.setdefault('query_start_time', []).append(time.time())

@event.listens_for(Engine, "after_cursor_execute")
def after_cursor_execute(conn, cursor, statement, parameters, context, executemany):
    total_time = time.time() - conn.info['query_start_time'].pop()
    
    # è®°å½•æ…¢æŸ¥è¯¢(è¶…è¿‡0.5ç§’)
    if total_time > 0.5:
        logger.warning(f"æ…¢æŸ¥è¯¢ ({total_time:.2f}s): {statement}")
```

### 3. å‰ç«¯æ€§èƒ½ç›‘æ§

```javascript
// ä½¿ç”¨ Performance API
window.addEventListener('load', () => {
  const perfData = window.performance.timing
  const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart
  const connectTime = perfData.responseEnd - perfData.requestStart
  
  console.log('é¡µé¢åŠ è½½æ—¶é—´:', pageLoadTime, 'ms')
  console.log('è¯·æ±‚å“åº”æ—¶é—´:', connectTime, 'ms')
  
  // ä¸ŠæŠ¥åˆ°ç›‘æ§å¹³å°
  // reportToMonitoring({ pageLoadTime, connectTime })
})

// Vue Router å¯¼èˆªæ€§èƒ½
router.beforeEach((to, from, next) => {
  performance.mark('route-start')
  next()
})

router.afterEach(() => {
  performance.mark('route-end')
  performance.measure('route-duration', 'route-start', 'route-end')
  
  const measure = performance.getEntriesByName('route-duration')[0]
  console.log('è·¯ç”±åˆ‡æ¢è€—æ—¶:', measure.duration, 'ms')
})
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•

```markdown
## åç«¯

- [ ] æ•°æ®åº“æŸ¥è¯¢ä½¿ç”¨ç´¢å¼•
- [ ] é¿å… N+1 æŸ¥è¯¢é—®é¢˜
- [ ] ä½¿ç”¨åˆ†é¡µ,ä¸ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
- [ ] è€—æ—¶æ“ä½œä½¿ç”¨å¼‚æ­¥ä»»åŠ¡
- [ ] çƒ­ç‚¹æ•°æ®ä½¿ç”¨ç¼“å­˜
- [ ] é…ç½®æ•°æ®åº“è¿æ¥æ± 
- [ ] ç›‘æ§æ…¢æŸ¥è¯¢å¹¶ä¼˜åŒ–

## å‰ç«¯

- [ ] è·¯ç”±å’Œç»„ä»¶æ‡’åŠ è½½
- [ ] å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] å›¾ç‰‡ä½¿ç”¨æ‡’åŠ è½½
- [ ] æœç´¢ä½¿ç”¨é˜²æŠ–,æ»šåŠ¨ä½¿ç”¨èŠ‚æµ
- [ ] ç»„ä»¶ä½¿ç”¨ Keep-Alive ç¼“å­˜
- [ ] æŒ‰éœ€å¯¼å…¥ç¬¬ä¸‰æ–¹åº“
- [ ] ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯

## æ•°æ®åº“

- [ ] å¸¸ç”¨æŸ¥è¯¢å­—æ®µæœ‰ç´¢å¼•
- [ ] é¿å… SELECT *
- [ ] ä½¿ç”¨æ‰¹é‡æ“ä½œä»£æ›¿å¾ªç¯æ“ä½œ
- [ ] å®šæœŸåˆ†æå’Œä¼˜åŒ–æ…¢æŸ¥è¯¢
```

### 2. æ€§èƒ½æµ‹è¯•

```bash
# åç«¯ API å‹åŠ›æµ‹è¯•
ab -n 1000 -c 10 http://localhost:8000/api/courses

# ä½¿ç”¨ locust è¿›è¡Œå‹åŠ›æµ‹è¯•
locust -f locustfile.py --host=http://localhost:8000

# å‰ç«¯æ€§èƒ½æµ‹è¯•
lighthouse https://yourdomain.com
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [FastAPI æ€§èƒ½ä¼˜åŒ–](https://fastapi.tiangolo.com/deployment/concepts/)
- [Vue.js æ€§èƒ½ä¼˜åŒ–](https://vuejs.org/guide/best-practices/performance.html)
- [MySQL æ€§èƒ½ä¼˜åŒ–](https://dev.mysql.com/doc/refman/8.0/en/optimization.html)
- [Web Performance](https://web.dev/performance/)

---

**è®°ä½**: è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº,ä½†åˆç†çš„æ€§èƒ½ä¼˜åŒ–èƒ½æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒï¼å…ˆæµ‹é‡,å†ä¼˜åŒ–!
